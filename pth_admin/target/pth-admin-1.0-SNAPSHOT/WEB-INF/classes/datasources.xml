<?xml version="1.0" encoding="UTF-8" ?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

    <bean id="dbWorkflow" class="com.mchange.v2.c3p0.ComboPooledDataSource">
        <property name="driverClass"
                  value="com.mysql.jdbc.Driver"/>
        <property name="jdbcUrl"
                  value="#{T(com.sankuai.meituan.util.ConfigUtilAdapter).getString('database.dbKuailv.url', '')}"/>
        <property name="user"
                  value="#{T(com.sankuai.meituan.util.ConfigUtilAdapter).getString('database.dbKuailv.username', '')}"/>
        <property name="password"
                  value="#{T(com.sankuai.meituan.kuailv.util.utils.KmsUtil).getString('com.sankuai.sjst.ecom.admin','database.dbKuailv.admin.password', '')}"/>
        <property name="initialPoolSize"
                  value="#{T(com.sankuai.meituan.util.ConfigUtilAdapter).getString('pool.initialPoolSize', '0')}"/>
        <property name="minPoolSize"
                  value="#{T(com.sankuai.meituan.util.ConfigUtilAdapter).getString('pool.minPoolSize', '0')}"/>
        <property name="maxPoolSize"
                  value="#{T(com.sankuai.meituan.util.ConfigUtilAdapter).getString('pool.maxPoolSize', '30')}"/>
        <property name="maxIdleTime"
                  value="#{T(com.sankuai.meituan.util.ConfigUtilAdapter).getString('pool.maxIdleTime', '60')}"/>
        <property name="acquireIncrement"
                  value="#{T(com.sankuai.meituan.util.ConfigUtilAdapter).getString('pool.acquireIncrement', '1')}"/>
        <property name="idleConnectionTestPeriod"
                  value="#{T(com.sankuai.meituan.util.ConfigUtilAdapter).getString('pool.idleConnectionTestPeriod', '60')}"/>
        <property name="preferredTestQuery"
                  value="#{T(com.sankuai.meituan.util.ConfigUtilAdapter).getString('pool.preferredTestQuery', 'SELECT 1')}"/>
        <property name="checkoutTimeout"
                  value="#{T(com.sankuai.meituan.util.ConfigUtilAdapter).getString('pool.checkoutTimeout', '3000')}"/>
    </bean>

</beans>
